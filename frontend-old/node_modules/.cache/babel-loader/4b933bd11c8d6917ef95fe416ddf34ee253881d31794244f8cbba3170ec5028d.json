{"ast":null,"code":"import _objectSpread from\"/mnt/c/code/leprovencal.ia/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// components/ArticleCard.jsx\nimport{useMemo,useState}from'react';import{useAuth}from'../hooks/useAuth';import ApiAlert from'./ApiAlert';import{toastError,toastSuccess}from'../utils/notify';import{deleteArticle,deleteArticleImage,getApiErrorMessage,getArticleImageUrl,updateArticle,uploadArticleImage}from'../services/api';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const MAX_IMAGE_BYTES=2*1024*1024;export default function ArticleCard(_ref){var _ref2,_ref3,_ref4;let{id,titre,description,imageUrl,image_url,// back-compat (should disappear once API normalization is everywhere)\nimageStored,image_stored,sourceUrl,source_url,// back-compat\nonUpdated,onDeleted}=_ref;const{user,ready}=useAuth();const initial={titre,description,imageUrl:(_ref2=imageUrl!==null&&imageUrl!==void 0?imageUrl:image_url)!==null&&_ref2!==void 0?_ref2:'',sourceUrl:(_ref3=sourceUrl!==null&&sourceUrl!==void 0?sourceUrl:source_url)!==null&&_ref3!==void 0?_ref3:'',imageStored:(_ref4=imageStored!==null&&imageStored!==void 0?imageStored:image_stored)!==null&&_ref4!==void 0?_ref4:false};const[view,setView]=useState(initial);const[form,setForm]=useState(initial);const[isEditing,setIsEditing]=useState(false);const[loading,setLoading]=useState(false);const[errorMsg,setErrorMsg]=useState(null);const[fieldErrors,setFieldErrors]=useState({});const[imageFile,setImageFile]=useState(null);const[imageRev,setImageRev]=useState(0);const[deleting,setDeleting]=useState(false);const hasChanges=useMemo(()=>{return form.titre!==view.titre||form.description!==view.description||form.imageUrl!==view.imageUrl||form.sourceUrl!==view.sourceUrl||Boolean(imageFile);},[form,view,imageFile]);const isValidUrl=u=>{if(!u)return true;try{new URL(u);return true;}catch(_unused){return false;}};const startEdit=()=>{setErrorMsg(null);setFieldErrors({});setForm(_objectSpread({},view));setImageFile(null);setIsEditing(true);};const cancelEdit=()=>{setErrorMsg(null);setFieldErrors({});setForm(_objectSpread({},view));setImageFile(null);setIsEditing(false);};const handleChange=(field,value)=>{setForm(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const handleSave=async()=>{var _form$titre;setErrorMsg(null);if(!((_form$titre=form.titre)!==null&&_form$titre!==void 0&&_form$titre.trim()))return setErrorMsg('Le titre est obligatoire.');if(!isValidUrl(form.imageUrl))return setErrorMsg(\"L'URL de l'image n'est pas valide.\");if(!isValidUrl(form.sourceUrl))return setErrorMsg(\"L'URL de la source n'est pas valide.\");if(!hasChanges)return setIsEditing(false);setLoading(true);try{var _form$description$tri,_form$description,_form$imageUrl$trim,_form$imageUrl,_form$sourceUrl$trim,_form$sourceUrl;const payload={titre:form.titre.trim(),description:(_form$description$tri=(_form$description=form.description)===null||_form$description===void 0?void 0:_form$description.trim())!==null&&_form$description$tri!==void 0?_form$description$tri:'',imageUrl:(_form$imageUrl$trim=(_form$imageUrl=form.imageUrl)===null||_form$imageUrl===void 0?void 0:_form$imageUrl.trim())!==null&&_form$imageUrl$trim!==void 0?_form$imageUrl$trim:'',sourceUrl:(_form$sourceUrl$trim=(_form$sourceUrl=form.sourceUrl)===null||_form$sourceUrl===void 0?void 0:_form$sourceUrl.trim())!==null&&_form$sourceUrl$trim!==void 0?_form$sourceUrl$trim:''};const updated=await updateArticle(id,payload);let final=_objectSpread(_objectSpread({},payload),{},{imageStored:Boolean(updated===null||updated===void 0?void 0:updated.imageStored)});if(imageFile){const afterUpload=await uploadArticleImage(id,imageFile);final=_objectSpread(_objectSpread({},final),{},{imageStored:Boolean(afterUpload===null||afterUpload===void 0?void 0:afterUpload.imageStored)});setImageRev(n=>n+1);setImageFile(null);}setView(final);setForm(final);setIsEditing(false);if(typeof onUpdated==='function')onUpdated(updated);}catch(err){var _err$response,_err$response$data,_err$response$data$de;const msg=getApiErrorMessage(err)||\"Une erreur est survenue lors de la mise à jour.\";setErrorMsg(msg);toastError(msg);const field=err===null||err===void 0?void 0:(_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:(_err$response$data$de=_err$response$data.detail)===null||_err$response$data$de===void 0?void 0:_err$response$data$de.field;if(field)setFieldErrors({[field]:msg});}finally{setLoading(false);}};const canEdit=ready&&!!user;return/*#__PURE__*/_jsxs(\"div\",{className:\"card flex flex-col gap-4\",children:[canEdit&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-end gap-2\",children:[!isEditing?/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:startEdit,className:\"btn btn-primary\",children:\"\\xC9diter\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:cancelEdit,disabled:loading,className:\"btn btn-secondary disabled:opacity-80\",children:\"Annuler\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleSave,disabled:loading||!hasChanges,className:\"btn btn-primary disabled:opacity-80\",children:loading?'Enregistrement…':'Valider'})]}),!isEditing&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:async()=>{if(!window.confirm('Supprimer cet article ?'))return;setDeleting(true);try{await deleteArticle(id);if(typeof onDeleted==='function')onDeleted(id);toastSuccess('Article supprimé.');}catch(err){setErrorMsg(getApiErrorMessage(err)||'Impossible de supprimer.');toastError(getApiErrorMessage(err)||'Impossible de supprimer.');}finally{setDeleting(false);}},disabled:deleting,className:\"btn btn-danger\",children:deleting?'Suppression…':'Supprimer'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-32\",children:!isEditing?view.imageStored?/*#__PURE__*/_jsx(\"img\",{src:getArticleImageUrl(id,imageRev),alt:\"Illustration de \".concat(view.titre),className:\"w-full md:w-32 h-32 object-cover rounded\"}):view.imageUrl?/*#__PURE__*/_jsx(\"img\",{src:view.imageUrl,alt:\"Illustration de \".concat(view.titre),className:\"w-full md:w-32 h-32 object-cover rounded\"}):/*#__PURE__*/_jsx(\"div\",{className:\"w-full md:w-32 h-32 rounded bg-gray-100\"}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",htmlFor:\"image-\".concat(id),children:\"URL de l\\u2019image\"}),/*#__PURE__*/_jsx(\"input\",{id:\"image-\".concat(id),type:\"url\",value:form.imageUrl,onChange:e=>handleChange('imageUrl',e.target.value),placeholder:\"https://exemple.com/image.jpg\",className:\"input\"}),/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",htmlFor:\"file-\".concat(id),children:\"Image (fichier) (optionnel, < 2Mo)\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-\".concat(id),type:\"file\",accept:\"image/*\",onChange:e=>{var _e$target$files;const f=((_e$target$files=e.target.files)===null||_e$target$files===void 0?void 0:_e$target$files[0])||null;if(!f){setImageFile(null);return;}if(f.size>MAX_IMAGE_BYTES){setErrorMsg('Image trop lourde (max 2Mo).');e.target.value='';setImageFile(null);return;}setImageFile(f);},className:\"input\"}),isValidUrl(form.imageUrl)&&form.imageUrl?/*#__PURE__*/_jsx(\"img\",{src:form.imageUrl,alt:\"Pr\\xE9visualisation\",className:\"w-full h-32 object-cover rounded border\"}):form.imageUrl?/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-600\",children:\"URL non valide\"}):null]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 flex flex-col justify-between\",children:!isEditing?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-xl font-bold text-secondary mb-2\",children:view.titre}),/*#__PURE__*/_jsx(\"p\",{className:\"text-content mb-3\",children:view.description}),canEdit&&view.imageStored&&/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:async()=>{if(!window.confirm('Retirer l’image stockée ?'))return;setErrorMsg(null);setLoading(true);try{const updated=await deleteArticleImage(id);setView(v=>_objectSpread(_objectSpread({},v),{},{imageStored:Boolean(updated===null||updated===void 0?void 0:updated.imageStored)}));setImageRev(n=>n+1);if(typeof onUpdated==='function')onUpdated(updated);}catch(err){setErrorMsg(getApiErrorMessage(err)||\"Impossible de retirer l'image.\");toastError(getApiErrorMessage(err)||\"Impossible de retirer l'image.\");}finally{setLoading(false);}},className:\"text-sm text-gray-700 underline hover:opacity-80\",children:\"Retirer l\\u2019image stock\\xE9e\"}),/*#__PURE__*/_jsx(\"a\",{href:view.sourceUrl,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-link font-semibold hover:underline\",children:\"Lire la suite \\u2192\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",htmlFor:\"titre-\".concat(id),children:\"Titre\"}),/*#__PURE__*/_jsx(\"input\",{id:\"titre-\".concat(id),type:\"text\",value:form.titre,onChange:e=>handleChange('titre',e.target.value),className:\"input\"}),fieldErrors.titre&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mt-1\",children:fieldErrors.titre})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",htmlFor:\"desc-\".concat(id),children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"desc-\".concat(id),value:form.description,onChange:e=>handleChange('description',e.target.value),rows:3,className:\"input\"}),fieldErrors.description&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mt-1\",children:fieldErrors.description})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-sm font-medium\",htmlFor:\"src-\".concat(id),children:\"URL de la source\"}),/*#__PURE__*/_jsx(\"input\",{id:\"src-\".concat(id),type:\"url\",value:form.sourceUrl,onChange:e=>handleChange('sourceUrl',e.target.value),placeholder:\"https://exemple.com/article\",className:\"input\"}),!isValidUrl(form.sourceUrl)&&form.sourceUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-red-600\",children:\"URL non valide\"}),fieldErrors.sourceUrl&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-600 text-sm mt-1\",children:fieldErrors.sourceUrl})]})]})})]}),errorMsg&&/*#__PURE__*/_jsx(ApiAlert,{message:errorMsg,kind:\"error\"})]});}","map":{"version":3,"names":["useMemo","useState","useAuth","ApiAlert","toastError","toastSuccess","deleteArticle","deleteArticleImage","getApiErrorMessage","getArticleImageUrl","updateArticle","uploadArticleImage","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","MAX_IMAGE_BYTES","ArticleCard","_ref","_ref2","_ref3","_ref4","id","titre","description","imageUrl","image_url","imageStored","image_stored","sourceUrl","source_url","onUpdated","onDeleted","user","ready","initial","view","setView","form","setForm","isEditing","setIsEditing","loading","setLoading","errorMsg","setErrorMsg","fieldErrors","setFieldErrors","imageFile","setImageFile","imageRev","setImageRev","deleting","setDeleting","hasChanges","Boolean","isValidUrl","u","URL","_unused","startEdit","_objectSpread","cancelEdit","handleChange","field","value","prev","handleSave","_form$titre","trim","_form$description$tri","_form$description","_form$imageUrl$trim","_form$imageUrl","_form$sourceUrl$trim","_form$sourceUrl","payload","updated","final","afterUpload","n","err","_err$response","_err$response$data","_err$response$data$de","msg","response","data","detail","canEdit","className","children","type","onClick","disabled","window","confirm","src","alt","concat","htmlFor","onChange","e","target","placeholder","accept","_e$target$files","f","files","size","v","href","rel","rows","message","kind"],"sources":["/mnt/c/code/leprovencal.ia/frontend/src/components/ArticleCard.jsx"],"sourcesContent":["// components/ArticleCard.jsx\r\nimport { useMemo, useState } from 'react';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport ApiAlert from './ApiAlert';\r\nimport { toastError, toastSuccess } from '../utils/notify';\r\nimport { deleteArticle, deleteArticleImage, getApiErrorMessage, getArticleImageUrl, updateArticle, uploadArticleImage } from '../services/api';\r\n\r\nconst MAX_IMAGE_BYTES = 2 * 1024 * 1024;\r\n\r\nexport default function ArticleCard({\r\n  id,\r\n  titre,\r\n  description,\r\n  imageUrl,\r\n  image_url, // back-compat (should disappear once API normalization is everywhere)\r\n  imageStored,\r\n  image_stored,\r\n  sourceUrl,\r\n  source_url, // back-compat\r\n  onUpdated,\r\n  onDeleted,\r\n}) {\r\n  const { user, ready } = useAuth();\r\n\r\n  const initial = {\r\n    titre,\r\n    description,\r\n    imageUrl: imageUrl ?? image_url ?? '',\r\n    sourceUrl: sourceUrl ?? source_url ?? '',\r\n    imageStored: imageStored ?? image_stored ?? false,\r\n  };\r\n\r\n  const [view, setView] = useState(initial);\r\n  const [form, setForm] = useState(initial);\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n  const [fieldErrors, setFieldErrors] = useState({});\r\n\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imageRev, setImageRev] = useState(0);\r\n\r\n  const [deleting, setDeleting] = useState(false);\r\n\r\n  const hasChanges = useMemo(() => {\r\n    return (\r\n      form.titre !== view.titre ||\r\n      form.description !== view.description ||\r\n      form.imageUrl !== view.imageUrl ||\r\n      form.sourceUrl !== view.sourceUrl ||\r\n      Boolean(imageFile)\r\n    );\r\n  }, [form, view, imageFile]);\r\n\r\n  const isValidUrl = (u) => {\r\n    if (!u) return true;\r\n    try { new URL(u); return true; } catch { return false; }\r\n  };\r\n\r\n  const startEdit = () => {\r\n    setErrorMsg(null);\r\n    setFieldErrors({});\r\n    setForm({ ...view });\r\n    setImageFile(null);\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setErrorMsg(null);\r\n    setFieldErrors({});\r\n    setForm({ ...view });\r\n    setImageFile(null);\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setForm((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setErrorMsg(null);\r\n\r\n    if (!form.titre?.trim()) return setErrorMsg('Le titre est obligatoire.');\r\n    if (!isValidUrl(form.imageUrl)) return setErrorMsg(\"L'URL de l'image n'est pas valide.\");\r\n    if (!isValidUrl(form.sourceUrl)) return setErrorMsg(\"L'URL de la source n'est pas valide.\");\r\n    if (!hasChanges) return setIsEditing(false);\r\n\r\n    setLoading(true);\r\n    try {\r\n      const payload = {\r\n        titre: form.titre.trim(),\r\n        description: form.description?.trim() ?? '',\r\n        imageUrl: form.imageUrl?.trim() ?? '',\r\n        sourceUrl: form.sourceUrl?.trim() ?? '',\r\n      };\r\n\r\n      const updated = await updateArticle(id, payload);\r\n\r\n      let final = {\r\n        ...payload,\r\n        imageStored: Boolean(updated?.imageStored),\r\n      };\r\n\r\n      if (imageFile) {\r\n        const afterUpload = await uploadArticleImage(id, imageFile);\r\n        final = {\r\n          ...final,\r\n          imageStored: Boolean(afterUpload?.imageStored),\r\n        };\r\n        setImageRev((n) => n + 1);\r\n        setImageFile(null);\r\n      }\r\n\r\n      setView(final);\r\n      setForm(final);\r\n      setIsEditing(false);\r\n\r\n      if (typeof onUpdated === 'function') onUpdated(updated);\r\n    } catch (err) {\r\n      const msg = getApiErrorMessage(err) || \"Une erreur est survenue lors de la mise à jour.\";\r\n      setErrorMsg(msg);\r\n      toastError(msg);\r\n      const field = err?.response?.data?.detail?.field;\r\n      if (field) setFieldErrors({ [field]: msg });\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const canEdit = ready && !!user;\r\n\r\n  return (\r\n    <div className=\"card flex flex-col gap-4\">\r\n      {/* Barre d'action (haut) */}\r\n      {canEdit && (\r\n        <div className=\"flex items-center justify-end gap-2\">\r\n          {!isEditing ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={startEdit}\r\n              className=\"btn btn-primary\"\r\n            >\r\n              Éditer\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                type=\"button\"\r\n                onClick={cancelEdit}\r\n                disabled={loading}\r\n                className=\"btn btn-secondary disabled:opacity-80\"\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleSave}\r\n                disabled={loading || !hasChanges}\r\n                className=\"btn btn-primary disabled:opacity-80\"\r\n              >\r\n                {loading ? 'Enregistrement…' : 'Valider'}\r\n              </button>\r\n            </>\r\n          )}\r\n          {!isEditing && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={async () => {\r\n                if (!window.confirm('Supprimer cet article ?')) return;\r\n                setDeleting(true);\r\n                try {\r\n                  await deleteArticle(id);\r\n                  if (typeof onDeleted === 'function') onDeleted(id);\r\n                  toastSuccess('Article supprimé.');\r\n                } catch (err) {\r\n                  setErrorMsg(getApiErrorMessage(err) || 'Impossible de supprimer.');\r\n                  toastError(getApiErrorMessage(err) || 'Impossible de supprimer.');\r\n                } finally {\r\n                  setDeleting(false);\r\n                }\r\n              }}\r\n              disabled={deleting}\r\n              className=\"btn btn-danger\"\r\n            >\r\n              {deleting ? 'Suppression…' : 'Supprimer'}\r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Corps de la carte */}\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        {/* Image */}\r\n        <div className=\"w-full md:w-32\">\r\n          {!isEditing ? (\r\n            view.imageStored ? (\r\n              <img\r\n                src={getArticleImageUrl(id, imageRev)}\r\n                alt={`Illustration de ${view.titre}`}\r\n                className=\"w-full md:w-32 h-32 object-cover rounded\"\r\n              />\r\n            ) : view.imageUrl ? (\r\n              <img\r\n                src={view.imageUrl}\r\n                alt={`Illustration de ${view.titre}`}\r\n                className=\"w-full md:w-32 h-32 object-cover rounded\"\r\n              />\r\n            ) : (\r\n              <div className=\"w-full md:w-32 h-32 rounded bg-gray-100\" />\r\n            )\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2\">\r\n              <label className=\"text-sm font-medium\" htmlFor={`image-${id}`}>URL de l’image</label>\r\n              <input\r\n                id={`image-${id}`}\r\n                type=\"url\"\r\n                value={form.imageUrl}\r\n                onChange={(e) => handleChange('imageUrl', e.target.value)}\r\n                placeholder=\"https://exemple.com/image.jpg\"\r\n                className=\"input\"\r\n              />\r\n\r\n              <label className=\"text-sm font-medium\" htmlFor={`file-${id}`}>Image (fichier) (optionnel, &lt; 2Mo)</label>\r\n              <input\r\n                id={`file-${id}`}\r\n                type=\"file\"\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  const f = e.target.files?.[0] || null;\r\n                  if (!f) {\r\n                    setImageFile(null);\r\n                    return;\r\n                  }\r\n                  if (f.size > MAX_IMAGE_BYTES) {\r\n                    setErrorMsg('Image trop lourde (max 2Mo).');\r\n                    e.target.value = '';\r\n                    setImageFile(null);\r\n                    return;\r\n                  }\r\n                  setImageFile(f);\r\n                }}\r\n                className=\"input\"\r\n              />\r\n\r\n              {isValidUrl(form.imageUrl) && form.imageUrl ? (\r\n                <img src={form.imageUrl} alt=\"Prévisualisation\" className=\"w-full h-32 object-cover rounded border\" />\r\n              ) : form.imageUrl ? (\r\n                <div className=\"text-xs text-red-600\">URL non valide</div>\r\n              ) : null}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Contenu */}\r\n        <div className=\"flex-1 flex flex-col justify-between\">\r\n          {!isEditing ? (\r\n            <>\r\n              <h3 className=\"text-xl font-bold text-secondary mb-2\">{view.titre}</h3>\r\n              <p className=\"text-content mb-3\">{view.description}</p>\r\n              {canEdit && view.imageStored && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={async () => {\r\n                    if (!window.confirm('Retirer l’image stockée ?')) return;\r\n                    setErrorMsg(null);\r\n                    setLoading(true);\r\n                    try {\r\n                      const updated = await deleteArticleImage(id);\r\n                      setView((v) => ({ ...v, imageStored: Boolean(updated?.imageStored) }));\r\n                      setImageRev((n) => n + 1);\r\n                      if (typeof onUpdated === 'function') onUpdated(updated);\r\n                    } catch (err) {\r\n                      setErrorMsg(getApiErrorMessage(err) || \"Impossible de retirer l'image.\");\r\n                        toastError(getApiErrorMessage(err) || \"Impossible de retirer l'image.\");\r\n                    } finally {\r\n                      setLoading(false);\r\n                    }\r\n                  }}\r\n                  className=\"text-sm text-gray-700 underline hover:opacity-80\"\r\n                >\r\n                  Retirer l’image stockée\r\n                </button>\r\n              )}\r\n              <a href={view.sourceUrl} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-link font-semibold hover:underline\">\r\n                Lire la suite →\r\n              </a>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex flex-col gap-3\">\r\n              <div>\r\n                <label className=\"text-sm font-medium\" htmlFor={`titre-${id}`}>Titre</label>\r\n                <input id={`titre-${id}`} type=\"text\" value={form.titre} onChange={(e) => handleChange('titre', e.target.value)} className=\"input\" />\r\n                {fieldErrors.titre && <div className=\"text-red-600 text-sm mt-1\">{fieldErrors.titre}</div>}\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium\" htmlFor={`desc-${id}`}>Description</label>\r\n                <textarea id={`desc-${id}`} value={form.description} onChange={(e) => handleChange('description', e.target.value)} rows={3} className=\"input\" />\r\n                {fieldErrors.description && <div className=\"text-red-600 text-sm mt-1\">{fieldErrors.description}</div>}\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium\" htmlFor={`src-${id}`}>URL de la source</label>\r\n                <input\r\n                  id={`src-${id}`}\r\n                  type=\"url\"\r\n                  value={form.sourceUrl}\r\n                  onChange={(e) => handleChange('sourceUrl', e.target.value)}\r\n                  placeholder=\"https://exemple.com/article\"\r\n                  className=\"input\"\r\n                />\r\n                {!isValidUrl(form.sourceUrl) && form.sourceUrl && <div className=\"text-xs text-red-600\">URL non valide</div>}\r\n                {fieldErrors.sourceUrl && <div className=\"text-red-600 text-sm mt-1\">{fieldErrors.sourceUrl}</div>}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message d'erreur */}\r\n      {errorMsg && <ApiAlert message={errorMsg} kind=\"error\" />}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}