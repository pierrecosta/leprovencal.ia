{"ast":null,"code":"import{useState,useEffect}from'react';import{useDictionary}from'../hooks/useDictionary';import usePagination from'../hooks/usePagination';import Filters from'../components/DictionaryFilters';import AlphabetFilter from'../components/DictionaryAlphabetFilter';import DictionaryTable from'../components/DictionaryTable';import Pagination from'../components/Pagination';import Loader from'../components/Loader';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function DictionaryPage(){const[theme,setTheme]=useState('tous');const[categorie,setCategorie]=useState('toutes');const[lettre,setLettre]=useState('toutes');const[search,setSearch]=useState('');const[sort,setSort]=useState('mots_francais');const[order,setOrder]=useState('asc');const{page,pages,setPage,setPages}=usePagination(1,1);const{mots,themes,categories,pages:totalPages,loading}=useDictionary({theme,categorie,lettre,search,page,sort,order});// keep pagination hook in sync with total pages returned by the API\nuseEffect(()=>{if(typeof totalPages==='number')setPages(totalPages);},[totalPages,setPages]);const handleSort=column=>{if(sort===column){setOrder(order==='asc'?'desc':'asc');}else{setSort(column);setOrder('asc');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-[var(--color-lavender)] mb-6\",children:\"Dictionnaire Proven\\xE7al\"}),/*#__PURE__*/_jsx(Filters,{themes:themes,categories:categories,theme:theme,categorie:categorie,search:search,onThemeChange:val=>{setTheme(val);setPage(1);},onCategorieChange:val=>{setCategorie(val);setPage(1);},onSearchChange:val=>{setSearch(val);setPage(1);}}),/*#__PURE__*/_jsx(AlphabetFilter,{lettre:lettre,onLettreChange:val=>{setLettre(val);setPage(1);}}),loading?/*#__PURE__*/_jsx(Loader,{message:\"Chargement des mots...\"}):/*#__PURE__*/_jsx(DictionaryTable,{mots:mots,sort:sort,order:order,onSort:handleSort}),/*#__PURE__*/_jsx(Pagination,{page:page,pages:pages,onPageChange:setPage})]});}","map":{"version":3,"names":["useState","useEffect","useDictionary","usePagination","Filters","AlphabetFilter","DictionaryTable","Pagination","Loader","jsx","_jsx","jsxs","_jsxs","DictionaryPage","theme","setTheme","categorie","setCategorie","lettre","setLettre","search","setSearch","sort","setSort","order","setOrder","page","pages","setPage","setPages","mots","themes","categories","totalPages","loading","handleSort","column","className","children","onThemeChange","val","onCategorieChange","onSearchChange","onLettreChange","message","onSort","onPageChange"],"sources":["/mnt/c/code/leprovencal.ia/frontend/src/pages/DictionaryPage.jsx"],"sourcesContent":["\r\nimport { useState, useEffect } from 'react';\r\nimport { useDictionary } from '../hooks/useDictionary';\r\nimport usePagination from '../hooks/usePagination';\r\nimport Filters from '../components/DictionaryFilters';\r\nimport AlphabetFilter from '../components/DictionaryAlphabetFilter';\r\nimport DictionaryTable from '../components/DictionaryTable';\r\nimport Pagination from '../components/Pagination';\r\nimport Loader from '../components/Loader';\r\n\r\nexport default function DictionaryPage() {\r\n  const [theme, setTheme] = useState('tous');\r\n  const [categorie, setCategorie] = useState('toutes');\r\n  const [lettre, setLettre] = useState('toutes');\r\n  const [search, setSearch] = useState('');\r\n  const [sort, setSort] = useState('mots_francais');\r\n  const [order, setOrder] = useState('asc');\r\n\r\n  const { page, pages, setPage, setPages } = usePagination(1, 1);\r\n\r\n  const { mots, themes, categories, pages: totalPages, loading } = useDictionary({ theme, categorie, lettre, search, page, sort, order });\r\n\r\n  // keep pagination hook in sync with total pages returned by the API\r\n  useEffect(() => {\r\n    if (typeof totalPages === 'number') setPages(totalPages);\r\n  }, [totalPages, setPages]);\r\n\r\n  const handleSort = (column) => {\r\n    if (sort === column) {\r\n      setOrder(order === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSort(column);\r\n      setOrder('asc');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-3xl font-bold text-[var(--color-lavender)] mb-6\">Dictionnaire Proven√ßal</h1>\r\n\r\n      <Filters\r\n        themes={themes}\r\n        categories={categories}\r\n        theme={theme}\r\n        categorie={categorie}\r\n        search={search}\r\n        onThemeChange={(val) => { setTheme(val); setPage(1); }}\r\n        onCategorieChange={(val) => { setCategorie(val); setPage(1); }}\r\n        onSearchChange={(val) => { setSearch(val); setPage(1); }}\r\n      />\r\n\r\n      <AlphabetFilter lettre={lettre} onLettreChange={(val) => { setLettre(val); setPage(1); }} />\r\n\r\n      {loading ? <Loader message=\"Chargement des mots...\" /> : <DictionaryTable mots={mots} sort={sort} order={order} onSort={handleSort} />}\r\n\r\n      <Pagination page={page} pages={pages} onPageChange={setPage} />\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}