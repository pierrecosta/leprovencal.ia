{"ast":null,"code":"var _jsxFileName = \"/mnt/c/code/leprovencal.ia/frontend/src/pages/HistoryPage.jsx\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nimport ApiAlert from '../components/ApiAlert';\nimport Loader from '../components/Loader';\nimport { useAuth } from '../hooks/useAuth';\nimport { logError } from '../utils/logger';\nimport { createHistoire, deleteHistoire, getHistoireById, getMenuHistoires, updateHistoire } from '../services/api';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function HistoryPage() {\n  _s();\n  const {\n    user,\n    ready\n  } = useAuth();\n  const [menuData, setMenuData] = useState({});\n  const [selected, setSelected] = useState(null);\n  const [creating, setCreating] = useState(false);\n  const [createForm, setCreateForm] = useState({\n    titre: '',\n    typologie: '',\n    periode: '',\n    descriptionCourte: '',\n    descriptionLongue: '',\n    sourceUrl: ''\n  });\n  const [editing, setEditing] = useState(false);\n  const [editForm, setEditForm] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [loadingDetail, setLoadingDetail] = useState(false);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    async function fetchMenu() {\n      setLoading(true);\n      setError('');\n      try {\n        const res = await getMenuHistoires();\n        setMenuData(res.data);\n      } catch (err) {\n        logError(err);\n        setError(\"Impossible de charger le sommaire.\");\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchMenu();\n  }, []);\n  const refreshMenu = async () => {\n    setLoading(true);\n    setError('');\n    try {\n      const res = await getMenuHistoires();\n      setMenuData(res.data);\n    } catch (err) {\n      logError(err);\n      setError(\"Impossible de charger le sommaire.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n  const openDetail = async id => {\n    setLoadingDetail(true);\n    setError('');\n    try {\n      const res = await getHistoireById(id);\n      setSelected(res.data);\n      setEditing(false);\n      setEditForm(null);\n      window.scrollTo({\n        top: 0,\n        behavior: 'smooth'\n      });\n    } catch (err) {\n      logError(err);\n      setError(\"Impossible de charger cette histoire.\");\n    } finally {\n      setLoadingDetail(false);\n    }\n  };\n  const backToMenu = () => {\n    setSelected(null);\n    setError('');\n    setEditing(false);\n    setEditForm(null);\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  };\n  const startEditing = () => {\n    var _selected$titre, _selected$typologie, _selected$periode, _selected$description, _selected$description2, _selected$sourceUrl;\n    if (!selected) return;\n    setEditing(true);\n    setEditForm({\n      titre: (_selected$titre = selected.titre) !== null && _selected$titre !== void 0 ? _selected$titre : '',\n      typologie: (_selected$typologie = selected.typologie) !== null && _selected$typologie !== void 0 ? _selected$typologie : '',\n      periode: (_selected$periode = selected.periode) !== null && _selected$periode !== void 0 ? _selected$periode : '',\n      descriptionCourte: (_selected$description = selected.descriptionCourte) !== null && _selected$description !== void 0 ? _selected$description : '',\n      descriptionLongue: (_selected$description2 = selected.descriptionLongue) !== null && _selected$description2 !== void 0 ? _selected$description2 : '',\n      sourceUrl: (_selected$sourceUrl = selected.sourceUrl) !== null && _selected$sourceUrl !== void 0 ? _selected$sourceUrl : ''\n    });\n  };\n  const cancelEditing = () => {\n    setEditing(false);\n    setEditForm(null);\n  };\n  const saveEditing = async () => {\n    if (!selected || !editForm) return;\n    setError('');\n    try {\n      const updated = await updateHistoire(selected.id, editForm);\n      setSelected(updated);\n      setEditing(false);\n      setEditForm(null);\n      await refreshMenu();\n    } catch (err) {\n      logError(err);\n      setError(\"Impossible de modifier cette histoire.\");\n    }\n  };\n  const removeSelected = async () => {\n    if (!selected) return;\n    const ok = window.confirm('Supprimer cette histoire ?');\n    if (!ok) return;\n    setError('');\n    try {\n      await deleteHistoire(selected.id);\n      setSelected(null);\n      setEditing(false);\n      setEditForm(null);\n      await refreshMenu();\n    } catch (err) {\n      logError(err);\n      setError(\"Impossible de supprimer cette histoire.\");\n    }\n  };\n  const submitCreate = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      const created = await createHistoire(createForm);\n      setCreateForm({\n        titre: '',\n        typologie: '',\n        periode: '',\n        descriptionCourte: '',\n        descriptionLongue: '',\n        sourceUrl: ''\n      });\n      setCreating(false);\n      await refreshMenu();\n      await openDetail(created.id);\n    } catch (err) {\n      logError(err);\n      setError(\"Impossible de créer une histoire.\");\n    }\n  };\n  if (selected) {\n    var _editForm$titre, _editForm$typologie, _editForm$periode, _editForm$description, _editForm$description2, _editForm$sourceUrl;\n    return /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-5xl mx-auto p-6\",\n      children: [error && /*#__PURE__*/_jsxDEV(ApiAlert, {\n        message: error,\n        kind: \"error\",\n        className: \"mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 19\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: backToMenu,\n          className: \"btn btn-secondary\",\n          children: \"\\u2190 Retour au menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        className: \"mb-6 p-6 border rounded shadow-sm bg-white\",\n        children: loadingDetail ? /*#__PURE__*/_jsxDEV(Loader, {\n          message: \"Chargement...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: !editing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              className: \"font-bold text-2xl text-[var(--color-lavender)] mb-3\",\n              children: selected.titre\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm text-gray-600 mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Typologie :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 23\n                }, this), \" \", selected.typologie]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"P\\xE9riode :\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 23\n                }, this), \" \", selected.periode]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 19\n            }, this), selected.descriptionLongue && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mb-4 whitespace-pre-line leading-relaxed\",\n              children: selected.descriptionLongue\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 21\n            }, this), selected.sourceUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n              href: selected.sourceUrl,\n              target: \"_blank\",\n              rel: \"noopener noreferrer\",\n              className: \"text-[var(--color-terra)] hover:underline text-sm\",\n              children: \"Voir la source \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 21\n            }, this), ready && user && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex flex-wrap gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: startEditing,\n                className: \"btn btn-primary\",\n                children: \"Modifier\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: removeSelected,\n                className: \"btn btn-danger\",\n                children: \"Supprimer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"font-bold text-xl text-[var(--color-lavender)] mb-3\",\n              children: \"Modifier l\\u2019histoire\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grid md:grid-cols-2 gap-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold mb-1\",\n                  children: \"Titre\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 221,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input\",\n                  value: (_editForm$titre = editForm === null || editForm === void 0 ? void 0 : editForm.titre) !== null && _editForm$titre !== void 0 ? _editForm$titre : '',\n                  onChange: e => setEditForm(f => ({\n                    ...f,\n                    titre: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 222,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold mb-1\",\n                  children: \"Typologie\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 229,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input\",\n                  value: (_editForm$typologie = editForm === null || editForm === void 0 ? void 0 : editForm.typologie) !== null && _editForm$typologie !== void 0 ? _editForm$typologie : '',\n                  onChange: e => setEditForm(f => ({\n                    ...f,\n                    typologie: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold mb-1\",\n                  children: \"P\\xE9riode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 237,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input\",\n                  value: (_editForm$periode = editForm === null || editForm === void 0 ? void 0 : editForm.periode) !== null && _editForm$periode !== void 0 ? _editForm$periode : '',\n                  onChange: e => setEditForm(f => ({\n                    ...f,\n                    periode: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  className: \"block text-sm font-semibold mb-1\",\n                  children: \"L\\xE9gende courte (survol)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  className: \"input\",\n                  value: (_editForm$description = editForm === null || editForm === void 0 ? void 0 : editForm.descriptionCourte) !== null && _editForm$description !== void 0 ? _editForm$description : '',\n                  onChange: e => setEditForm(f => ({\n                    ...f,\n                    descriptionCourte: e.target.value\n                  }))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-1\",\n                children: \"Texte\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                className: \"input\",\n                rows: 8,\n                value: (_editForm$description2 = editForm === null || editForm === void 0 ? void 0 : editForm.descriptionLongue) !== null && _editForm$description2 !== void 0 ? _editForm$description2 : '',\n                onChange: e => setEditForm(f => ({\n                  ...f,\n                  descriptionLongue: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-semibold mb-1\",\n                children: \"Source (URL)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                className: \"input\",\n                value: (_editForm$sourceUrl = editForm === null || editForm === void 0 ? void 0 : editForm.sourceUrl) !== null && _editForm$sourceUrl !== void 0 ? _editForm$sourceUrl : '',\n                onChange: e => setEditForm(f => ({\n                  ...f,\n                  sourceUrl: e.target.value\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 266,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-6 flex flex-wrap gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: saveEditing,\n                className: \"btn btn-primary\",\n                children: \"Enregistrer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: cancelEditing,\n                className: \"btn btn-secondary\",\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 273,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: backToMenu,\n          className: \"btn btn-secondary\",\n          children: \"\\u2190 Retour au menu\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"max-w-5xl mx-auto p-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-3xl font-bold text-[var(--color-lavender)] mb-6\",\n      children: \"Histoire & l\\xE9gendes \\u2014 Sommaire\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(ApiAlert, {\n      message: error,\n      kind: \"error\",\n      className: \"mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 17\n    }, this), ready && user && /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"mb-6 border rounded bg-white shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: \"px-4 py-3 border-b bg-[var(--bg)] flex items-center justify-between gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"font-bold text-xl text-[var(--color-lavender)]\",\n          children: \"Gestion (loggu\\xE9)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => setCreating(v => !v),\n          children: creating ? 'Fermer' : 'Ajouter une histoire'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 11\n      }, this), creating && /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: submitCreate,\n        className: \"p-4 space-y-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid md:grid-cols-2 gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Titre *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input\",\n              required: true,\n              value: createForm.titre,\n              onChange: e => setCreateForm(f => ({\n                ...f,\n                titre: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"Typologie *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input\",\n              required: true,\n              value: createForm.typologie,\n              onChange: e => setCreateForm(f => ({\n                ...f,\n                typologie: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 326,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"P\\xE9riode *\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 336,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input\",\n              required: true,\n              value: createForm.periode,\n              onChange: e => setCreateForm(f => ({\n                ...f,\n                periode: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-semibold mb-1\",\n              children: \"L\\xE9gende courte (survol)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"input\",\n              value: createForm.descriptionCourte,\n              onChange: e => setCreateForm(f => ({\n                ...f,\n                descriptionCourte: e.target.value\n              }))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 346,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold mb-1\",\n            children: \"Texte\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            className: \"input\",\n            rows: 6,\n            value: createForm.descriptionLongue,\n            onChange: e => setCreateForm(f => ({\n              ...f,\n              descriptionLongue: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-semibold mb-1\",\n            children: \"Source (URL)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"input\",\n            value: createForm.sourceUrl,\n            onChange: e => setCreateForm(f => ({\n              ...f,\n              sourceUrl: e.target.value\n            }))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Cr\\xE9er\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 306,\n      columnNumber: 9\n    }, this), loading ? /*#__PURE__*/_jsxDEV(Loader, {\n      message: \"Chargement du sommaire...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-8\",\n      children: [Object.keys(menuData).length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600\",\n        children: \"Aucun contenu disponible.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 50\n      }, this), Object.entries(menuData).map(([typologie, periodes]) => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"border rounded bg-white shadow-sm\",\n        children: [/*#__PURE__*/_jsxDEV(\"header\", {\n          className: \"px-4 py-3 border-b bg-[var(--bg)]\",\n          children: /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-bold text-xl text-[var(--color-lavender)]\",\n            children: typologie\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 space-y-6\",\n          children: Object.entries(periodes).map(([periode, items]) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"font-semibold text-lg text-gray-800 mb-2\",\n              children: periode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"grid md:grid-cols-2 gap-2\",\n              children: items.map(({\n                id,\n                titre,\n                descriptionCourte\n              }) => /*#__PURE__*/_jsxDEV(\"li\", {\n                className: \"relative\",\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => openDetail(id),\n                  className: \"group w-full text-left px-3 py-2 rounded border hover:border-[var(--color-terra)] hover:bg-white\",\n                  \"aria-describedby\": `hint-${id}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"text-[var(--color-terra)] font-medium group-hover:underline\",\n                    children: titre\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 406,\n                    columnNumber: 29\n                  }, this), descriptionCourte && /*#__PURE__*/_jsxDEV(\"span\", {\n                    id: `hint-${id}`,\n                    className: \"pointer-events-none absolute left-full top-1 ml-3 z-10 hidden group-hover:block group-focus-within:block w-64 p-2 bg-black text-white text-sm rounded shadow-lg\",\n                    children: descriptionCourte\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 409,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 27\n                }, this)\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 25\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 21\n            }, this)]\n          }, periode, true, {\n            fileName: _jsxFileName,\n            lineNumber: 395,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 393,\n          columnNumber: 15\n        }, this)]\n      }, typologie, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 384,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 300,\n    columnNumber: 5\n  }, this);\n}\n_s(HistoryPage, \"29UsVvBiFpj9MnUUZoUaXBdiB2o=\", false, function () {\n  return [useAuth];\n});\n_c = HistoryPage;\nvar _c;\n$RefreshReg$(_c, \"HistoryPage\");","map":{"version":3,"names":["useEffect","useState","ApiAlert","Loader","useAuth","logError","createHistoire","deleteHistoire","getHistoireById","getMenuHistoires","updateHistoire","jsxDEV","_jsxDEV","Fragment","_Fragment","HistoryPage","_s","user","ready","menuData","setMenuData","selected","setSelected","creating","setCreating","createForm","setCreateForm","titre","typologie","periode","descriptionCourte","descriptionLongue","sourceUrl","editing","setEditing","editForm","setEditForm","loading","setLoading","loadingDetail","setLoadingDetail","error","setError","fetchMenu","res","data","err","refreshMenu","openDetail","id","window","scrollTo","top","behavior","backToMenu","startEditing","_selected$titre","_selected$typologie","_selected$periode","_selected$description","_selected$description2","_selected$sourceUrl","cancelEditing","saveEditing","updated","removeSelected","ok","confirm","submitCreate","e","preventDefault","created","_editForm$titre","_editForm$typologie","_editForm$periode","_editForm$description","_editForm$description2","_editForm$sourceUrl","className","children","message","kind","fileName","_jsxFileName","lineNumber","columnNumber","onClick","href","target","rel","value","onChange","f","rows","v","onSubmit","required","type","Object","keys","length","entries","map","periodes","items","_c","$RefreshReg$"],"sources":["/mnt/c/code/leprovencal.ia/frontend/src/pages/HistoryPage.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\r\nimport ApiAlert from '../components/ApiAlert';\r\nimport Loader from '../components/Loader';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { logError } from '../utils/logger';\r\nimport { createHistoire, deleteHistoire, getHistoireById, getMenuHistoires, updateHistoire } from '../services/api';\r\n\r\nexport default function HistoryPage() {\r\n  const { user, ready } = useAuth();\r\n  const [menuData, setMenuData] = useState({});\r\n  const [selected, setSelected] = useState(null);\r\n\r\n  const [creating, setCreating] = useState(false);\r\n  const [createForm, setCreateForm] = useState({\r\n    titre: '',\r\n    typologie: '',\r\n    periode: '',\r\n    descriptionCourte: '',\r\n    descriptionLongue: '',\r\n    sourceUrl: '',\r\n  });\r\n\r\n  const [editing, setEditing] = useState(false);\r\n  const [editForm, setEditForm] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingDetail, setLoadingDetail] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    async function fetchMenu() {\r\n      setLoading(true);\r\n      setError('');\r\n      try {\r\n        const res = await getMenuHistoires();\r\n        setMenuData(res.data);\r\n      } catch (err) {\r\n        logError(err);\r\n        setError(\"Impossible de charger le sommaire.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    }\r\n    fetchMenu();\r\n  }, []);\r\n\r\n  const refreshMenu = async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const res = await getMenuHistoires();\r\n      setMenuData(res.data);\r\n    } catch (err) {\r\n      logError(err);\r\n      setError(\"Impossible de charger le sommaire.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const openDetail = async (id) => {\r\n    setLoadingDetail(true);\r\n    setError('');\r\n    try {\r\n      const res = await getHistoireById(id);\r\n      setSelected(res.data);\r\n      setEditing(false);\r\n      setEditForm(null);\r\n      window.scrollTo({ top: 0, behavior: 'smooth' });\r\n    } catch (err) {\r\n      logError(err);\r\n      setError(\"Impossible de charger cette histoire.\");\r\n    } finally {\r\n      setLoadingDetail(false);\r\n    }\r\n  };\r\n\r\n  const backToMenu = () => {\r\n    setSelected(null);\r\n    setError('');\r\n    setEditing(false);\r\n    setEditForm(null);\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  };\r\n\r\n  const startEditing = () => {\r\n    if (!selected) return;\r\n    setEditing(true);\r\n    setEditForm({\r\n      titre: selected.titre ?? '',\r\n      typologie: selected.typologie ?? '',\r\n      periode: selected.periode ?? '',\r\n      descriptionCourte: selected.descriptionCourte ?? '',\r\n      descriptionLongue: selected.descriptionLongue ?? '',\r\n      sourceUrl: selected.sourceUrl ?? '',\r\n    });\r\n  };\r\n\r\n  const cancelEditing = () => {\r\n    setEditing(false);\r\n    setEditForm(null);\r\n  };\r\n\r\n  const saveEditing = async () => {\r\n    if (!selected || !editForm) return;\r\n    setError('');\r\n    try {\r\n      const updated = await updateHistoire(selected.id, editForm);\r\n      setSelected(updated);\r\n      setEditing(false);\r\n      setEditForm(null);\r\n      await refreshMenu();\r\n    } catch (err) {\r\n      logError(err);\r\n      setError(\"Impossible de modifier cette histoire.\");\r\n    }\r\n  };\r\n\r\n  const removeSelected = async () => {\r\n    if (!selected) return;\r\n    const ok = window.confirm('Supprimer cette histoire ?');\r\n    if (!ok) return;\r\n    setError('');\r\n    try {\r\n      await deleteHistoire(selected.id);\r\n      setSelected(null);\r\n      setEditing(false);\r\n      setEditForm(null);\r\n      await refreshMenu();\r\n    } catch (err) {\r\n      logError(err);\r\n      setError(\"Impossible de supprimer cette histoire.\");\r\n    }\r\n  };\r\n\r\n  const submitCreate = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    try {\r\n      const created = await createHistoire(createForm);\r\n      setCreateForm({\r\n        titre: '',\r\n        typologie: '',\r\n        periode: '',\r\n        descriptionCourte: '',\r\n        descriptionLongue: '',\r\n        sourceUrl: '',\r\n      });\r\n      setCreating(false);\r\n      await refreshMenu();\r\n      await openDetail(created.id);\r\n    } catch (err) {\r\n      logError(err);\r\n      setError(\"Impossible de créer une histoire.\");\r\n    }\r\n  };\r\n\r\n  if (selected) {\r\n    return (\r\n      <main className=\"max-w-5xl mx-auto p-6\">\r\n        {error && <ApiAlert message={error} kind=\"error\" className=\"mb-4\" />}\r\n\r\n        <div className=\"mb-4\">\r\n          <button\r\n            onClick={backToMenu}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            ← Retour au menu\r\n          </button>\r\n        </div>\r\n\r\n        <article className=\"mb-6 p-6 border rounded shadow-sm bg-white\">\r\n          {loadingDetail ? (\r\n            <Loader message=\"Chargement...\" />\r\n          ) : (\r\n            <>\r\n              {!editing ? (\r\n                <>\r\n                  <h1 className=\"font-bold text-2xl text-[var(--color-lavender)] mb-3\">{selected.titre}</h1>\r\n\r\n                  <div className=\"text-sm text-gray-600 mb-4\">\r\n                    <span className=\"mr-3\">\r\n                      <strong>Typologie :</strong> {selected.typologie}\r\n                    </span>\r\n                    <span>\r\n                      <strong>Période :</strong> {selected.periode}\r\n                    </span>\r\n                  </div>\r\n\r\n                  {selected.descriptionLongue && (\r\n                    <p className=\"mb-4 whitespace-pre-line leading-relaxed\">{selected.descriptionLongue}</p>\r\n                  )}\r\n                  {selected.sourceUrl && (\r\n                    <a\r\n                      href={selected.sourceUrl}\r\n                      target=\"_blank\"\r\n                      rel=\"noopener noreferrer\"\r\n                      className=\"text-[var(--color-terra)] hover:underline text-sm\"\r\n                    >\r\n                      Voir la source →\r\n                    </a>\r\n                  )}\r\n\r\n                  {ready && user && (\r\n                    <div className=\"mt-6 flex flex-wrap gap-2\">\r\n                      <button onClick={startEditing} className=\"btn btn-primary\">\r\n                        Modifier\r\n                      </button>\r\n                      <button onClick={removeSelected} className=\"btn btn-danger\">\r\n                        Supprimer\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  <h2 className=\"font-bold text-xl text-[var(--color-lavender)] mb-3\">Modifier l’histoire</h2>\r\n\r\n                  <div className=\"grid md:grid-cols-2 gap-3\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold mb-1\">Titre</label>\r\n                      <input\r\n                        className=\"input\"\r\n                        value={editForm?.titre ?? ''}\r\n                        onChange={(e) => setEditForm((f) => ({ ...f, titre: e.target.value }))}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold mb-1\">Typologie</label>\r\n                      <input\r\n                        className=\"input\"\r\n                        value={editForm?.typologie ?? ''}\r\n                        onChange={(e) => setEditForm((f) => ({ ...f, typologie: e.target.value }))}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold mb-1\">Période</label>\r\n                      <input\r\n                        className=\"input\"\r\n                        value={editForm?.periode ?? ''}\r\n                        onChange={(e) => setEditForm((f) => ({ ...f, periode: e.target.value }))}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold mb-1\">Légende courte (survol)</label>\r\n                      <input\r\n                        className=\"input\"\r\n                        value={editForm?.descriptionCourte ?? ''}\r\n                        onChange={(e) => setEditForm((f) => ({ ...f, descriptionCourte: e.target.value }))}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"mt-3\">\r\n                    <label className=\"block text-sm font-semibold mb-1\">Texte</label>\r\n                    <textarea\r\n                      className=\"input\"\r\n                      rows={8}\r\n                      value={editForm?.descriptionLongue ?? ''}\r\n                      onChange={(e) => setEditForm((f) => ({ ...f, descriptionLongue: e.target.value }))}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mt-3\">\r\n                    <label className=\"block text-sm font-semibold mb-1\">Source (URL)</label>\r\n                    <input\r\n                      className=\"input\"\r\n                      value={editForm?.sourceUrl ?? ''}\r\n                      onChange={(e) => setEditForm((f) => ({ ...f, sourceUrl: e.target.value }))}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"mt-6 flex flex-wrap gap-2\">\r\n                    <button onClick={saveEditing} className=\"btn btn-primary\">\r\n                      Enregistrer\r\n                    </button>\r\n                    <button onClick={cancelEditing} className=\"btn btn-secondary\">\r\n                      Annuler\r\n                    </button>\r\n                  </div>\r\n                </>\r\n              )}\r\n            </>\r\n          )}\r\n        </article>\r\n\r\n        <div className=\"mt-4\">\r\n          <button\r\n            onClick={backToMenu}\r\n            className=\"btn btn-secondary\"\r\n          >\r\n            ← Retour au menu\r\n          </button>\r\n        </div>\r\n      </main>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <main className=\"max-w-5xl mx-auto p-6\">\r\n      <h2 className=\"text-3xl font-bold text-[var(--color-lavender)] mb-6\">Histoire & légendes — Sommaire</h2>\r\n\r\n      {error && <ApiAlert message={error} kind=\"error\" className=\"mb-4\" />}\r\n\r\n      {ready && user && (\r\n        <section className=\"mb-6 border rounded bg-white shadow-sm\">\r\n          <header className=\"px-4 py-3 border-b bg-[var(--bg)] flex items-center justify-between gap-2\">\r\n            <h3 className=\"font-bold text-xl text-[var(--color-lavender)]\">Gestion (loggué)</h3>\r\n            <button className=\"btn btn-primary\" onClick={() => setCreating((v) => !v)}>\r\n              {creating ? 'Fermer' : 'Ajouter une histoire'}\r\n            </button>\r\n          </header>\r\n\r\n          {creating && (\r\n            <form onSubmit={submitCreate} className=\"p-4 space-y-3\">\r\n              <div className=\"grid md:grid-cols-2 gap-3\">\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Titre *</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    required\r\n                    value={createForm.titre}\r\n                    onChange={(e) => setCreateForm((f) => ({ ...f, titre: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Typologie *</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    required\r\n                    value={createForm.typologie}\r\n                    onChange={(e) => setCreateForm((f) => ({ ...f, typologie: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Période *</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    required\r\n                    value={createForm.periode}\r\n                    onChange={(e) => setCreateForm((f) => ({ ...f, periode: e.target.value }))}\r\n                  />\r\n                </div>\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-1\">Légende courte (survol)</label>\r\n                  <input\r\n                    className=\"input\"\r\n                    value={createForm.descriptionCourte}\r\n                    onChange={(e) => setCreateForm((f) => ({ ...f, descriptionCourte: e.target.value }))}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-1\">Texte</label>\r\n                <textarea\r\n                  className=\"input\"\r\n                  rows={6}\r\n                  value={createForm.descriptionLongue}\r\n                  onChange={(e) => setCreateForm((f) => ({ ...f, descriptionLongue: e.target.value }))}\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block text-sm font-semibold mb-1\">Source (URL)</label>\r\n                <input\r\n                  className=\"input\"\r\n                  value={createForm.sourceUrl}\r\n                  onChange={(e) => setCreateForm((f) => ({ ...f, sourceUrl: e.target.value }))}\r\n                />\r\n              </div>\r\n\r\n              <button type=\"submit\" className=\"btn btn-primary\">\r\n                Créer\r\n              </button>\r\n            </form>\r\n          )}\r\n        </section>\r\n      )}\r\n\r\n      {loading ? (\r\n        <Loader message=\"Chargement du sommaire...\" />\r\n      ) : (\r\n        <div className=\"space-y-8\">\r\n          {Object.keys(menuData).length === 0 && <p className=\"text-gray-600\">Aucun contenu disponible.</p>}\r\n\r\n          {Object.entries(menuData).map(([typologie, periodes]) => (\r\n            <section key={typologie} className=\"border rounded bg-white shadow-sm\">\r\n              <header className=\"px-4 py-3 border-b bg-[var(--bg)]\">\r\n                <h3 className=\"font-bold text-xl text-[var(--color-lavender)]\">{typologie}</h3>\r\n              </header>\r\n\r\n              <div className=\"p-4 space-y-6\">\r\n                {Object.entries(periodes).map(([periode, items]) => (\r\n                  <div key={periode}>\r\n                    <h4 className=\"font-semibold text-lg text-gray-800 mb-2\">{periode}</h4>\r\n\r\n                    <ul className=\"grid md:grid-cols-2 gap-2\">\r\n                      {items.map(({ id, titre, descriptionCourte }) => (\r\n                        <li key={id} className=\"relative\">\r\n                          <button\r\n                            onClick={() => openDetail(id)}\r\n                            className=\"group w-full text-left px-3 py-2 rounded border hover:border-[var(--color-terra)] hover:bg-white\"\r\n                            aria-describedby={`hint-${id}`}\r\n                          >\r\n                            <span className=\"text-[var(--color-terra)] font-medium group-hover:underline\">{titre}</span>\r\n\r\n                            {descriptionCourte && (\r\n                              <span\r\n                                id={`hint-${id}`}\r\n                                className=\"pointer-events-none absolute left-full top-1 ml-3 z-10 hidden group-hover:block group-focus-within:block w-64 p-2 bg-black text-white text-sm rounded shadow-lg\"\r\n                              >\r\n                                {descriptionCourte}\r\n                              </span>\r\n                            )}\r\n                          </button>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </section>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}