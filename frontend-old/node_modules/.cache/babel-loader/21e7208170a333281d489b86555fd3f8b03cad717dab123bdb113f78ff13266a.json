{"ast":null,"code":"var _jsxFileName = \"/mnt/c/code/leprovencal.ia/frontend/src/components/ArticleCard.jsx\",\n  _s = $RefreshSig$();\n// components/ArticleCard.jsx\nimport { useMemo, useState } from 'react';\nimport { useAuth } from '../hooks/useAuth';\nimport { updateArticle } from '../services/api'; // ajuste le chemin si besoin\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ArticleCard({\n  id,\n  titre,\n  description,\n  image_url,\n  source_url,\n  onUpdated // callback optionnel pour le parent après update\n}) {\n  _s();\n  const {\n    user,\n    ready\n  } = useAuth();\n\n  // État \"vue\" — ce que la carte affiche hors édition\n  const [view, setView] = useState({\n    titre,\n    description,\n    image_url,\n    source_url\n  });\n\n  // État \"form\" — ce que l'on édite en mode édition\n  const [form, setForm] = useState({\n    titre,\n    description,\n    image_url,\n    source_url\n  });\n  const [isEditing, setIsEditing] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(null);\n\n  // Détection de modifications pour activer/désactiver \"Valider\"\n  const hasChanges = useMemo(() => {\n    return form.titre !== view.titre || form.description !== view.description || form.image_url !== view.image_url || form.source_url !== view.source_url;\n  }, [form, view]);\n\n  // Validation basique d'URL\n  const isValidUrl = u => {\n    if (!u) return true; // autoriser vide si non obligatoire\n    try {\n      new URL(u);\n      return true;\n    } catch {\n      return false;\n    }\n  };\n  const startEdit = () => {\n    setErrorMsg(null);\n    setForm({\n      ...view\n    }); // charger l'état actuel dans le formulaire\n    setIsEditing(true);\n  };\n  const cancelEdit = () => {\n    setErrorMsg(null);\n    setForm({\n      ...view\n    }); // revert\n    setIsEditing(false);\n  };\n  const handleChange = (field, value) => {\n    setForm(prev => ({\n      ...prev,\n      [field]: value\n    }));\n  };\n  const handleSave = async () => {\n    var _form$titre;\n    setErrorMsg(null);\n\n    // Validations de base\n    if (!((_form$titre = form.titre) !== null && _form$titre !== void 0 && _form$titre.trim())) {\n      setErrorMsg('Le titre est obligatoire.');\n      return;\n    }\n    if (!isValidUrl(form.image_url)) {\n      setErrorMsg(\"L'URL de l'image n'est pas valide.\");\n      return;\n    }\n    if (!isValidUrl(form.source_url)) {\n      setErrorMsg(\"L'URL de la source n'est pas valide.\");\n      return;\n    }\n    if (!hasChanges) {\n      setIsEditing(false);\n      return;\n    }\n    setLoading(true);\n    try {\n      var _form$description$tri, _form$description, _form$image_url$trim, _form$image_url, _form$source_url$trim, _form$source_url;\n      // ⚠️ Adapte le mapping à ton backend si nécessaire\n      const payload = {\n        titre: form.titre.trim(),\n        description: (_form$description$tri = (_form$description = form.description) === null || _form$description === void 0 ? void 0 : _form$description.trim()) !== null && _form$description$tri !== void 0 ? _form$description$tri : '',\n        image_url: (_form$image_url$trim = (_form$image_url = form.image_url) === null || _form$image_url === void 0 ? void 0 : _form$image_url.trim()) !== null && _form$image_url$trim !== void 0 ? _form$image_url$trim : '',\n        source_url: (_form$source_url$trim = (_form$source_url = form.source_url) === null || _form$source_url === void 0 ? void 0 : _form$source_url.trim()) !== null && _form$source_url$trim !== void 0 ? _form$source_url$trim : ''\n      };\n      const data = await updateArticle(id, payload);\n\n      // Mettre à jour l'affichage local\n      setView({\n        ...form\n      });\n      setIsEditing(false);\n\n      // Informer éventuellement le parent (toast, re-fetch, etc.)\n      if (typeof onUpdated === 'function') {\n        onUpdated(data);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      const message = (err === null || err === void 0 ? void 0 : (_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || (err === null || err === void 0 ? void 0 : err.message) || \"Une erreur est survenue lors de la mise à jour.\";\n      setErrorMsg(message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Afficher le bouton Éditer uniquement si l'auth est résolue et un user est présent\n  const canEdit = ready && !!user;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col gap-4 p-4 border rounded-lg shadow-sm bg-white hover:shadow-md transition\",\n    children: [canEdit && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-end gap-2\",\n      children: !isEditing ? /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: startEdit,\n        className: \"px-3 py-1.5 rounded bg-[var(--color-terra)] text-black hover:opacity-90\",\n        children: \"\\xC9diter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: cancelEdit,\n          disabled: loading,\n          className: \"px-3 py-1.5 rounded border border-gray-300 text-green hover:bg-gray-50 disabled:opacity-80\",\n          children: \"Annuler\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: handleSave,\n          disabled: loading || !hasChanges,\n          className: \"px-3 py-1.5 rounded bg-[var(--color-lavender)] text-red hover:opacity-90 disabled:opacity-80\",\n          children: loading ? 'Enregistrement…' : 'Valider'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col md:flex-row gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-full md:w-32\",\n        children: !isEditing ? /*#__PURE__*/_jsxDEV(\"img\", {\n          src: view.image_url,\n          alt: `Illustration de ${view.titre}`,\n          className: \"w-full md:w-32 h-32 object-cover rounded\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-sm font-medium text-gray-700\",\n            htmlFor: `image-${id}`,\n            children: \"URL de l\\u2019image\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: `image-${id}`,\n            type: \"url\",\n            value: form.image_url,\n            onChange: e => handleChange('image_url', e.target.value),\n            placeholder: \"https://exemple.com/image.jpg\",\n            className: \"w-full md:w-64 border rounded px-2 py-1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), isValidUrl(form.image_url) && form.image_url ? /*#__PURE__*/_jsxDEV(\"img\", {\n            src: form.image_url,\n            alt: \"Pr\\xE9visualisation\",\n            className: \"w-full h-32 object-cover rounded border\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 17\n          }, this) : form.image_url ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs text-red-600\",\n            children: \"URL non valide\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 195,\n            columnNumber: 17\n          }, this) : null]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex flex-col justify-between\",\n        children: !isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-[var(--color-lavender)] mb-2\",\n            children: view.titre\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 mb-3\",\n            children: view.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: view.source_url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-[var(--color-terra)] font-semibold hover:underline\",\n            children: \"Lire la suite \\u2192\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700\",\n              htmlFor: `titre-${id}`,\n              children: \"Titre\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: `titre-${id}`,\n              type: \"text\",\n              value: form.titre,\n              onChange: e => handleChange('titre', e.target.value),\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700\",\n              htmlFor: `desc-${id}`,\n              children: \"Description\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: `desc-${id}`,\n              value: form.description,\n              onChange: e => handleChange('description', e.target.value),\n              rows: 3,\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-gray-700\",\n              htmlFor: `src-${id}`,\n              children: \"URL de la source\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: `src-${id}`,\n              type: \"url\",\n              value: form.source_url,\n              onChange: e => handleChange('source_url', e.target.value),\n              placeholder: \"https://exemple.com/article\",\n              className: \"w-full border rounded px-2 py-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 17\n            }, this), !isValidUrl(form.source_url) && form.source_url && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-red-600\",\n              children: \"URL non valide\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 7\n    }, this), errorMsg && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 text-sm text-red-600\",\n      children: errorMsg\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n}\n_s(ArticleCard, \"cE1WRv2q1GhXYA4fAGrEsyu5jBk=\", false, function () {\n  return [useAuth];\n});\n_c = ArticleCard;\nvar _c;\n$RefreshReg$(_c, \"ArticleCard\");","map":{"version":3,"names":["useMemo","useState","useAuth","updateArticle","jsxDEV","_jsxDEV","Fragment","_Fragment","ArticleCard","id","titre","description","image_url","source_url","onUpdated","_s","user","ready","view","setView","form","setForm","isEditing","setIsEditing","loading","setLoading","errorMsg","setErrorMsg","hasChanges","isValidUrl","u","URL","startEdit","cancelEdit","handleChange","field","value","prev","handleSave","_form$titre","trim","_form$description$tri","_form$description","_form$image_url$trim","_form$image_url","_form$source_url$trim","_form$source_url","payload","data","err","_err$response","_err$response$data","message","response","canEdit","className","children","type","onClick","fileName","_jsxFileName","lineNumber","columnNumber","disabled","src","alt","htmlFor","onChange","e","target","placeholder","href","rel","rows","_c","$RefreshReg$"],"sources":["/mnt/c/code/leprovencal.ia/frontend/src/components/ArticleCard.jsx"],"sourcesContent":["\r\n// components/ArticleCard.jsx\r\nimport { useMemo, useState } from 'react';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { updateArticle } from '../services/api'; // ajuste le chemin si besoin\r\n\r\nexport default function ArticleCard({\r\n  id,\r\n  titre,\r\n  description,\r\n  image_url,\r\n  source_url,\r\n  onUpdated, // callback optionnel pour le parent après update\r\n}) {\r\n  const { user, ready } = useAuth();\r\n\r\n  // État \"vue\" — ce que la carte affiche hors édition\r\n  const [view, setView] = useState({\r\n    titre,\r\n    description,\r\n    image_url,\r\n    source_url,\r\n  });\r\n\r\n  // État \"form\" — ce que l'on édite en mode édition\r\n  const [form, setForm] = useState({\r\n    titre,\r\n    description,\r\n    image_url,\r\n    source_url,\r\n  });\r\n\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(null);\r\n\r\n  // Détection de modifications pour activer/désactiver \"Valider\"\r\n  const hasChanges = useMemo(() => {\r\n    return (\r\n      form.titre !== view.titre ||\r\n      form.description !== view.description ||\r\n      form.image_url !== view.image_url ||\r\n      form.source_url !== view.source_url\r\n    );\r\n  }, [form, view]);\r\n\r\n  // Validation basique d'URL\r\n  const isValidUrl = (u) => {\r\n    if (!u) return true; // autoriser vide si non obligatoire\r\n    try {\r\n      new URL(u);\r\n      return true;\r\n    } catch {\r\n      return false;\r\n    }\r\n  };\r\n\r\n  const startEdit = () => {\r\n    setErrorMsg(null);\r\n    setForm({ ...view }); // charger l'état actuel dans le formulaire\r\n    setIsEditing(true);\r\n  };\r\n\r\n  const cancelEdit = () => {\r\n    setErrorMsg(null);\r\n    setForm({ ...view }); // revert\r\n    setIsEditing(false);\r\n  };\r\n\r\n  const handleChange = (field, value) => {\r\n    setForm((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setErrorMsg(null);\r\n\r\n    // Validations de base\r\n    if (!form.titre?.trim()) {\r\n      setErrorMsg('Le titre est obligatoire.');\r\n      return;\r\n    }\r\n    if (!isValidUrl(form.image_url)) {\r\n      setErrorMsg(\"L'URL de l'image n'est pas valide.\");\r\n      return;\r\n    }\r\n    if (!isValidUrl(form.source_url)) {\r\n      setErrorMsg(\"L'URL de la source n'est pas valide.\");\r\n      return;\r\n    }\r\n    if (!hasChanges) {\r\n      setIsEditing(false);\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      // ⚠️ Adapte le mapping à ton backend si nécessaire\r\n      const payload = {\r\n        titre: form.titre.trim(),\r\n        description: form.description?.trim() ?? '',\r\n        image_url: form.image_url?.trim() ?? '',\r\n        source_url: form.source_url?.trim() ?? '',\r\n      };\r\n\r\n      const data = await updateArticle(id, payload);\r\n\r\n      // Mettre à jour l'affichage local\r\n      setView({ ...form });\r\n      setIsEditing(false);\r\n\r\n      // Informer éventuellement le parent (toast, re-fetch, etc.)\r\n      if (typeof onUpdated === 'function') {\r\n        onUpdated(data);\r\n      }\r\n    } catch (err) {\r\n      const message =\r\n        err?.response?.data?.message ||\r\n        err?.message ||\r\n        \"Une erreur est survenue lors de la mise à jour.\";\r\n      setErrorMsg(message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Afficher le bouton Éditer uniquement si l'auth est résolue et un user est présent\r\n  const canEdit = ready && !!user;\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-4 p-4 border rounded-lg shadow-sm bg-white hover:shadow-md transition\">\r\n      {/* Barre d'action (haut) */}\r\n      {canEdit && (\r\n        <div className=\"flex items-center justify-end gap-2\">\r\n          {!isEditing ? (\r\n            <button\r\n              type=\"button\"\r\n              onClick={startEdit}\r\n              className=\"px-3 py-1.5 rounded bg-[var(--color-terra)] text-black hover:opacity-90\"\r\n            >\r\n              Éditer\r\n            </button>\r\n          ) : (\r\n            <>\r\n              <button\r\n                type=\"button\"\r\n                onClick={cancelEdit}\r\n                disabled={loading}\r\n                className=\"px-3 py-1.5 rounded border border-gray-300 text-green hover:bg-gray-50 disabled:opacity-80\"\r\n              >\r\n                Annuler\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={handleSave}\r\n                disabled={loading || !hasChanges}\r\n                className=\"px-3 py-1.5 rounded bg-[var(--color-lavender)] text-red hover:opacity-90 disabled:opacity-80\"\r\n              >\r\n                {loading ? 'Enregistrement…' : 'Valider'}\r\n              </button>\r\n            </>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Corps de la carte */}\r\n      <div className=\"flex flex-col md:flex-row gap-4\">\r\n        {/* Image */}\r\n        <div className=\"w-full md:w-32\">\r\n          {!isEditing ? (\r\n            <img\r\n              src={view.image_url}\r\n              alt={`Illustration de ${view.titre}`}\r\n              className=\"w-full md:w-32 h-32 object-cover rounded\"\r\n            />\r\n          ) : (\r\n            <div className=\"flex flex-col gap-2\">\r\n              <label className=\"text-sm font-medium text-gray-700\" htmlFor={`image-${id}`}>\r\n                URL de l’image\r\n              </label>\r\n              <input\r\n                id={`image-${id}`}\r\n                type=\"url\"\r\n                value={form.image_url}\r\n                onChange={(e) => handleChange('image_url', e.target.value)}\r\n                placeholder=\"https://exemple.com/image.jpg\"\r\n                className=\"w-full md:w-64 border rounded px-2 py-1\"\r\n              />\r\n              {isValidUrl(form.image_url) && form.image_url ? (\r\n                <img\r\n                  src={form.image_url}\r\n                  alt=\"Prévisualisation\"\r\n                  className=\"w-full h-32 object-cover rounded border\"\r\n                />\r\n              ) : form.image_url ? (\r\n                <div className=\"text-xs text-red-600\">URL non valide</div>\r\n              ) : null}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Contenu */}\r\n        <div className=\"flex-1 flex flex-col justify-between\">\r\n          {!isEditing ? (\r\n            <>\r\n              <h3 className=\"text-xl font-bold text-[var(--color-lavender)] mb-2\">\r\n                {view.titre}\r\n              </h3>\r\n              <p className=\"text-gray-700 mb-3\">{view.description}</p>\r\n              <a\r\n                href={view.source_url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                className=\"text-[var(--color-terra)] font-semibold hover:underline\"\r\n              >\r\n                Lire la suite →\r\n              </a>\r\n            </>\r\n          ) : (\r\n            <div className=\"flex flex-col gap-3\">\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700\" htmlFor={`titre-${id}`}>\r\n                  Titre\r\n                </label>\r\n                <input\r\n                  id={`titre-${id}`}\r\n                  type=\"text\"\r\n                  value={form.titre}\r\n                  onChange={(e) => handleChange('titre', e.target.value)}\r\n                  className=\"w-full border rounded px-2 py-1\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700\" htmlFor={`desc-${id}`}>\r\n                Description\r\n                </label>\r\n                <textarea\r\n                  id={`desc-${id}`}\r\n                  value={form.description}\r\n                  onChange={(e) => handleChange('description', e.target.value)}\r\n                  rows={3}\r\n                  className=\"w-full border rounded px-2 py-1\"\r\n                />\r\n              </div>\r\n              <div>\r\n                <label className=\"text-sm font-medium text-gray-700\" htmlFor={`src-${id}`}>\r\n                  URL de la source\r\n                </label>\r\n                <input\r\n                  id={`src-${id}`}\r\n                  type=\"url\"\r\n                  value={form.source_url}\r\n                  onChange={(e) => handleChange('source_url', e.target.value)}\r\n                  placeholder=\"https://exemple.com/article\"\r\n                  className=\"w-full border rounded px-2 py-1\"\r\n                />\r\n                {!isValidUrl(form.source_url) && form.source_url && (\r\n                  <div className=\"text-xs text-red-600\">URL non valide</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Message d'erreur */}\r\n      {errorMsg && (\r\n        <div className=\"mt-2 text-sm text-red-600\">\r\n          {errorMsg}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}